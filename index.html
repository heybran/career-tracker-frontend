<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather+Sans:300,500,regular,|Poppins:700,regular,|Poppins:100,200,300,400,500,600,700,800,900">
    <title>Jobs Tracker</title>
    <link rel="stylesheet" href="style.css">
    <style>
      cc-spinner {
        position: fixed;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
      }
      :not(:defined) {
        opacity: 0;
      }
    </style>
  </head>
  <body>
    <template id="spinner">
      <cc-spinner style="--size: 2em"></cc-spinner>
    </template>
    <template path="/signup">
      <article class="narrow-content signup">
        <h1>
          <img src="/career-tracker.svg" alt="Career Tracker Logo" class="logo">
          <cc-visually-hidden>Career Tracker</cc-visually-hidden>
        </h1>
        <form method="post" onsubmit="window.user.signup(event);" id="signup-form">
          <p>Hi there, welcome! You can signup for an account by entering your email address, a signup link will be sent to your inbox.</p>
          <cc-email-field label="Email address" name="email" required></cc-email-field>
          <cc-button type="submit" theme="primary" colspan="2" style="width: 100%; margin-top: 1rem;">Continue</cc-button>
          <small><p>Already have an account? <a href="/signin">Sign in here</a>.</p></small>
          <!-- <cc-divider text="Or"></cc-divider>
          <cc-button style="display: flex;">
            <img src="/github.svg" width="24" height="24" style="margin-right: 0.5rem;">
            Continue with Github
          </cc-button> -->
        </form>
      </article>
    </template>
    <template path="/signin">
      <article class="narrow-content signin">
        <h1>
          <img src="/career-tracker.svg" alt="Career Tracker Logo" class="logo">
          <cc-visually-hidden>Career Tracker</cc-visually-hidden>
        </h1>
        <form method="post" onsubmit="window.user.signin(event);" id="signin-form">
          <p>Welcome back! Enter your email which you used to register the account, and a login link will be sent to your inbox.</p>
          <cc-email-field label="Email address" name="email" required></cc-email-field>
          <cc-button type="submit" theme="primary" colspan="2" style="width: 100%; margin-top: 1rem;">Ok, send me the link</cc-button>
          <small><p>Do not have an account? <a href="/signup">Sign up here</a>.</p></small>
        </form>
      </article>
    </template>
    <template path="/">
      <article id="welcome">
        <h1>
          <img src="/career-tracker.svg" alt="Career Tracker Logo" class="logo">
          <cc-visually-hidden>Career Tracker</cc-visually-hidden>
        </h1>
        <p>A tiny web app that helps you track the jobs you applied, built with vanilla JavaScript & Web Components on frontend and WordPress & PHP as backend.</p>
        <cc-horizontal-layout style="justify-content: center;">
          <cc-button href="/signup" theme="primary" style="width: 20rem;">Get started</cc-button>
        </cc-horizontal-layout>
      </article>
    </template>
    <template path="/jobs/add" protected-route redirect="/signin">
        <article class="medium-content">
          <div>
            <h1>Add A New Job</h1>
            <p>Fill in this form to add a new job to the datbase.</p>
          </div>
          <form method="post" onsubmit="window.jobController.add(event);">
            <cc-form-layout>
              <cc-text-field label="Website" name="website" required></cc-text-field>
              <cc-text-field label="Position" name="position" required></cc-text-field>
              <cc-text-field label="Source" name="source"></cc-text-field>
              <cc-date-picker label="Date Applied" required name="date_applied"></cc-date-picker>
              <cc-select name="status" label="Status" colspan="2">
                <cc-option value="pending" aria-selected="true">Pending</cc-option>
                <cc-option value="rejected">Rejected</cc-option>
                <cc-option value="not-applied">Not Applied</cc-option>
              </cc-select>
              <cc-textarea label="Notes" name="notes" colspan="2" helper-text="Maximum characters allowed: 3000"></cc-textarea>
              <cc-radio-group label="Apply channel" name="apply_channel" colspan="2">
                <cc-radio label="Email" value="email"></cc-radio>
                <cc-radio label="Job application form" value="job-application-form"></cc-radio>
                <cc-radio label="LinkedIn" value="linkedin"></cc-radio>
              </cc-radio-group>
              <cc-checkbox name="volunteer_position" label="Volunteer position"></cc-checkbox>
              <cc-button type="submit" theme="primary" colspan="2">Submit</cc-button>
            </cc-form-layout>
          </form>
        </article>
    </template>
    <template path="/jobs" protected-route>
      <article>
        <table>
          <thead>
            <tr>
              <th>Website</th>
              <th>Position</th>
              <th>Source</th>
              <th>Date Applied</th>
              <th>Apply Channel</th>
              <th>Status</th>
              <th>Volunteer Position</th>
              <th>Notes</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody render-target>
          </tbody>
        </table>
      </article>
      <cc-dialog label="Delete Job" id="delete-job-dialog">
      </cc-dialog>
    </template>
    <template path="/jobs/edit" protected-route>
      <article>
        <div>
          <h1>Edit job</h1>
          <p></p>
        </div>
        <form method="post" onsubmit="window.jobController.update(event, this);" id="edit-job-form">
          <cc-form-layout></cc-form-layout>
          <cc-horizontal-layout style="margin-block-start: 1rem;">
            <cc-button style="width: 100%" theme="neutral" href="/jobs">Cancel</cc-button>
            <cc-button theme="primary" type="submit" style="width: 100%">Confirm</cc-button>
          </cc-horizontal-layout>
        </form>
      </article>
    </template>
    <template path="/account/change-password" protected-route>
      <main>
        <article class="narrow-content">
          <div>
            <h1>Change password</h1>
            <p></p>
          </div>
          <form method="post" onsubmit="window.user.updatePassword(event, this);" id="edit-job-form">
            <cc-password-field label="Old password" name="old-password" required></cc-password-field>
            <cc-password-field label="New password" name="new-password" required></cc-password-field>
            <cc-horizontal-layout style="margin-block-start: 1rem;">
              <cc-button style="width: 100%" theme="neutral" href="/jobs">Cancel</cc-button>
              <cc-button theme="primary" type="submit" style="width: 100%">Confirm</cc-button>
            </cc-horizontal-layout>
          </form>
        </article>
      </main>
    </template>
    <template path="/activate-account" protected-route>
      <main>
        <article class="narrow-content">
          <div>
            <h1>Activate your account</h1>
          </div>
        </article>
      </main>
    </template>
    <template path="/login-via-email" protected-route>
        <article class="narrow-content">
          <div>
            <h1>Login in your account</h1>
          </div>
        </article>
    </template>
    <cc-header></cc-header>
    <div id="app">
      <main  router-outlet router-spinner="spinner"></main>
      <cc-footer></cc-footer>
    </div>
    <script type="module" src="/main.js"></script>
  </body>
</html>
